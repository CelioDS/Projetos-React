{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/celio/GitHub/Projetos-React/business/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/celio/GitHub/Projetos-React/business/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/celio/GitHub/Projetos-React/business/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from\"react-router-dom\";import style from\"./VisualizarDB.module.css\";import Container from\"../layout/Container\";import{BsClipboardCheck}from\"react-icons/bs\";import LinkButton from\"../layout/LinkButton\";import{useEffect,useState,useCallback}from\"react\";import databaseLocal from\"../bd/db.json\";import CheckMobile from\"../Funcoes/CheckMobile\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VisualizarDB=function VisualizarDB(){var checkMobile=useCallback(CheckMobile,[]);var isMobile=checkMobile();var anoAtual=new Date().getFullYear();var textCopy=isMobile?\"Copiou\":\"Copiar\";var _useState=useState(textCopy),_useState2=_slicedToArray(_useState,2),copy=_useState2[0],setCopy=_useState2[1];var _useParams=useParams(),id=_useParams.id,nome=_useParams.nome;// Obtém o parâmetro de rota 'id' usando o hook useParams()\nvar idNumber=parseInt(id);// Converte o 'id' para um número inteiro\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),database=_useState4[0],setDatabase=_useState4[1];// Estado para armazenar os dados do banco de dados\nvar handleCopy=function handleCopy(text){navigator.clipboard.writeText(text);setCopy(\"Copiando...\");setTimeout(function(){setCopy(textCopy);},500);};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;url=process.env.REACT_APP_API_URL||\"http://localhost:5000/empresas\";_context.next=4;return fetch(url,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;// Converte a resposta em formato JSON\nsetDatabase(data);// Atualiza o estado 'database' com os dados recebidos\n_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(\"Erro ao obter os dados\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();setDatabase(databaseLocal.empresas);fetchData();// Chama a função fetchData() quando o componente é montado\n},[]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:style.father,children:[/*#__PURE__*/_jsx(LinkButton,{to:\"/visualizar\",text:\"Voltar\",className:style.btn}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Informa\\xE7\\xF5es completas:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\" \".concat(nome)})]}),database&&database.map(function(_ref2){var id=_ref2.id,nome=_ref2.nome,site=_ref2.site,localidade=_ref2.localidade,setor=_ref2.setor,visao=_ref2.visao,fundada=_ref2.fundada,imagem=_ref2.imagem;if(id===idNumber){var pessoa=\"\".concat(fundada.pessoa);var data=\" em \".concat(fundada.data.dia,\"  \").concat(fundada.data.mes,\"  \").concat(fundada.data.ano);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:style.info,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"name:\"}),/*#__PURE__*/_jsx(\"li\",{children:nome})]}),/*#__PURE__*/_jsxs(\"p\",{className:style.site,children:[/*#__PURE__*/_jsx(\"span\",{children:\"site:\"}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"a\",{href:site,target:\"_blank\",rel:\"noopener nofollow noreferrer\",children:site.replace(\"https://www.\",\" \")}),/*#__PURE__*/_jsxs(\"button\",{className:style.btnCopy,onClick:function onClick(){return handleCopy(site);},children:[/*#__PURE__*/_jsx(\"p\",{className:style.copy,children:copy}),/*#__PURE__*/_jsx(BsClipboardCheck,{})]})]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"localidade:\"}),/*#__PURE__*/_jsx(\"li\",{children:localidade})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"setor:\"}),/*#__PURE__*/_jsx(\"li\",{children:setor})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"visao:\"}),/*#__PURE__*/_jsx(\"li\",{children:visao})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"fundada:\"}),/*#__PURE__*/_jsxs(\"li\",{children:[\"por\",/*#__PURE__*/_jsxs(\"span\",{className:style.fundador,children:[\" \",pessoa]}),data,/*#__PURE__*/_jsxs(\"span\",{className:style.idade,children:[\"(\",anoAtual-fundada.data.ano,\" anos)\"]})]})]})]},id),/*#__PURE__*/_jsx(\"section\",{className:style.imagem,children:/*#__PURE__*/_jsxs(\"figure\",{children:[/*#__PURE__*/_jsx(\"img\",{src:imagem,alt:imagem}),/*#__PURE__*/_jsx(\"figcaption\",{children:nome})]})})]},id);}return null;})]},id)},id);};export default VisualizarDB;","map":{"version":3,"names":["useParams","style","Container","BsClipboardCheck","LinkButton","useEffect","useState","useCallback","databaseLocal","CheckMobile","jsx","_jsx","jsxs","_jsxs","VisualizarDB","checkMobile","isMobile","anoAtual","Date","getFullYear","textCopy","_useState","_useState2","_slicedToArray","copy","setCopy","_useParams","id","nome","idNumber","parseInt","_useState3","_useState4","database","setDatabase","handleCopy","text","navigator","clipboard","writeText","setTimeout","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","data","wrap","_callee$","_context","prev","next","process","env","REACT_APP_API_URL","fetch","method","headers","sent","json","t0","console","log","stop","apply","arguments","empresas","children","className","father","to","btn","concat","map","_ref2","site","localidade","setor","visao","fundada","imagem","pessoa","dia","mes","ano","info","href","target","rel","replace","btnCopy","onClick","fundador","idade","src","alt"],"sources":["C:/Users/celio/GitHub/Projetos-React/business/src/componentes/pages/VisualizarDB.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\nimport style from \"./VisualizarDB.module.css\";\r\nimport Container from \"../layout/Container\";\r\nimport { BsClipboardCheck } from \"react-icons/bs\";\r\n\r\nimport LinkButton from \"../layout/LinkButton\";\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport databaseLocal from \"../bd/db.json\";\r\n\r\nimport CheckMobile from \"../Funcoes/CheckMobile\";\r\n\r\nconst VisualizarDB = () => {\r\n  const checkMobile = useCallback(CheckMobile, []);\r\n  const isMobile = checkMobile();\r\n  const anoAtual = new Date().getFullYear();\r\n  const textCopy = isMobile ? \"Copiou\" : \"Copiar\";\r\n  const [copy, setCopy] = useState(textCopy);\r\n\r\n  const { id, nome } = useParams(); // Obtém o parâmetro de rota 'id' usando o hook useParams()\r\n  const idNumber = parseInt(id); // Converte o 'id' para um número inteiro\r\n  const [database, setDatabase] = useState(); // Estado para armazenar os dados do banco de dados\r\n\r\n  const handleCopy = (text) => {\r\n    navigator.clipboard.writeText(text);\r\n    setCopy(\"Copiando...\");\r\n    setTimeout(() => {\r\n      setCopy(textCopy);\r\n    }, 500);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const url =\r\n          process.env.REACT_APP_API_URL || \"http://localhost:5000/empresas\";\r\n\r\n        const response = await fetch(url, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n        const data = await response.json(); // Converte a resposta em formato JSON\r\n        setDatabase(data); // Atualiza o estado 'database' com os dados recebidos\r\n      } catch (error) {\r\n        console.log(\"Erro ao obter os dados\", error);\r\n      }\r\n    };\r\n    setDatabase(databaseLocal.empresas);\r\n    fetchData(); // Chama a função fetchData() quando o componente é montado\r\n  }, []);\r\n\r\n  return (\r\n    <Container key={id}>\r\n      <div className={style.father} key={id}>\r\n        <LinkButton to=\"/visualizar\" text=\"Voltar\" className={style.btn} />\r\n        <h1>\r\n          Informações completas:\r\n          <br />\r\n          <span>{` ${nome}`}</span>\r\n        </h1>\r\n\r\n        {database &&\r\n          database.map(\r\n            ({ id, nome, site, localidade, setor, visao, fundada, imagem }) => {\r\n              if (id === idNumber) {\r\n                const pessoa = `${fundada.pessoa}`;\r\n                const data = ` em ${fundada.data.dia}  ${fundada.data.mes}  ${fundada.data.ano}`;\r\n\r\n                return (\r\n                  <section key={id}>\r\n                    <div key={id} className={style.info}>\r\n                      <p>\r\n                        <span>name:</span>\r\n                        <li>{nome}</li>\r\n                      </p>\r\n                      <p className={style.site}>\r\n                        <span>site:</span>\r\n                        <li>\r\n                          {\r\n                            <a\r\n                              href={site}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener nofollow noreferrer\"\r\n                            >\r\n                              {site.replace(\"https://www.\", \" \")}\r\n                            </a>\r\n                          }\r\n                          <button\r\n                            className={style.btnCopy}\r\n                            onClick={() => handleCopy(site)}\r\n                          >\r\n                            <p className={style.copy}>{copy}</p>\r\n                            <BsClipboardCheck />\r\n                          </button>\r\n                        </li>\r\n                      </p>\r\n                      <p>\r\n                        <span>localidade:</span>\r\n                        <li>{localidade}</li>\r\n                      </p>\r\n                      <p>\r\n                        <span>setor:</span>\r\n                        <li>{setor}</li>\r\n                      </p>\r\n                      <p>\r\n                        <span>visao:</span>\r\n                        <li>{visao}</li>\r\n                      </p>\r\n\r\n                      <p>\r\n                        <span>fundada:</span>\r\n\r\n                        <li>\r\n                          por\r\n                          <span className={style.fundador}> {pessoa}</span>\r\n                          {data}\r\n                          <span className={style.idade}>\r\n                            ({anoAtual - fundada.data.ano} anos)\r\n                          </span>\r\n                        </li>\r\n                      </p>\r\n                    </div>\r\n                    <section className={style.imagem}>\r\n                      <figure>\r\n                        <img src={imagem} alt={imagem} />\r\n                        <figcaption>{nome}</figcaption>\r\n                      </figure>\r\n                    </section>\r\n                  </section>\r\n                );\r\n              }\r\n              return null;\r\n            }\r\n          )}\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default VisualizarDB;\r\n"],"mappings":"yZAAA,OAASA,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,KAAM,2BAA2B,CAC7C,MAAO,CAAAC,SAAS,KAAM,qBAAqB,CAC3C,OAASC,gBAAgB,KAAQ,gBAAgB,CAEjD,MAAO,CAAAC,UAAU,KAAM,sBAAsB,CAC7C,OAASC,SAAS,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACxD,MAAO,CAAAC,aAAa,KAAM,eAAe,CAEzC,MAAO,CAAAC,WAAW,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,GAAM,CAAAC,WAAW,CAAGR,WAAW,CAACE,WAAW,CAAE,EAAE,CAAC,CAChD,GAAM,CAAAO,QAAQ,CAAGD,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAE,QAAQ,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACzC,GAAM,CAAAC,QAAQ,CAAGJ,QAAQ,CAAG,QAAQ,CAAG,QAAQ,CAC/C,IAAAK,SAAA,CAAwBf,QAAQ,CAACc,QAAQ,CAAC,CAAAE,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpB,IAAAI,UAAA,CAAqB1B,SAAS,CAAC,CAAC,CAAxB2B,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAAEC,IAAI,CAAAF,UAAA,CAAJE,IAAI,CAAkB;AAClC,GAAM,CAAAC,QAAQ,CAAGC,QAAQ,CAACH,EAAE,CAAC,CAAE;AAC/B,IAAAI,UAAA,CAAgCzB,QAAQ,CAAC,CAAC,CAAA0B,UAAA,CAAAT,cAAA,CAAAQ,UAAA,IAAnCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAAgB;AAE5C,GAAM,CAAAG,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,IAAI,CAAK,CAC3BC,SAAS,CAACC,SAAS,CAACC,SAAS,CAACH,IAAI,CAAC,CACnCX,OAAO,CAAC,aAAa,CAAC,CACtBe,UAAU,CAAC,UAAM,CACff,OAAO,CAACL,QAAQ,CAAC,CACnB,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAEDf,SAAS,CAAC,UAAM,CACd,GAAM,CAAAoC,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAERN,GAAG,CACPQ,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,gCAAgC,CAAAL,QAAA,CAAAE,IAAA,SAE5C,CAAAI,KAAK,CAACX,GAAG,CAAE,CAChCY,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,QALIZ,QAAQ,CAAAI,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,SAMK,CAAAN,QAAQ,CAACc,IAAI,CAAC,CAAC,QAA5Bb,IAAI,CAAAG,QAAA,CAAAS,IAAA,CAA0B;AACpC3B,WAAW,CAACe,IAAI,CAAC,CAAE;AAAAG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAW,EAAA,CAAAX,QAAA,aAEnBY,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAAb,QAAA,CAAAW,EAAO,CAAC,CAAC,yBAAAX,QAAA,CAAAc,IAAA,MAAApB,OAAA,iBAEhD,kBAhBK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAyB,KAAA,MAAAC,SAAA,OAgBd,CACDlC,WAAW,CAAC1B,aAAa,CAAC6D,QAAQ,CAAC,CACnC5B,SAAS,CAAC,CAAC,CAAE;AACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE9B,IAAA,CAACT,SAAS,EAAAoE,QAAA,cACRzD,KAAA,QAAK0D,SAAS,CAAEtE,KAAK,CAACuE,MAAO,CAAAF,QAAA,eAC3B3D,IAAA,CAACP,UAAU,EAACqE,EAAE,CAAC,aAAa,CAACrC,IAAI,CAAC,QAAQ,CAACmC,SAAS,CAAEtE,KAAK,CAACyE,GAAI,CAAE,CAAC,cACnE7D,KAAA,OAAAyD,QAAA,EAAI,8BAEF,cAAA3D,IAAA,QAAK,CAAC,cACNA,IAAA,SAAA2D,QAAA,KAAAK,MAAA,CAAW/C,IAAI,EAAS,CAAC,EACvB,CAAC,CAEJK,QAAQ,EACPA,QAAQ,CAAC2C,GAAG,CACV,SAAAC,KAAA,CAAmE,IAAhE,CAAAlD,EAAE,CAAAkD,KAAA,CAAFlD,EAAE,CAAEC,IAAI,CAAAiD,KAAA,CAAJjD,IAAI,CAAEkD,IAAI,CAAAD,KAAA,CAAJC,IAAI,CAAEC,UAAU,CAAAF,KAAA,CAAVE,UAAU,CAAEC,KAAK,CAAAH,KAAA,CAALG,KAAK,CAAEC,KAAK,CAAAJ,KAAA,CAALI,KAAK,CAAEC,OAAO,CAAAL,KAAA,CAAPK,OAAO,CAAEC,MAAM,CAAAN,KAAA,CAANM,MAAM,CAC1D,GAAIxD,EAAE,GAAKE,QAAQ,CAAE,CACnB,GAAM,CAAAuD,MAAM,IAAAT,MAAA,CAAMO,OAAO,CAACE,MAAM,CAAE,CAClC,GAAM,CAAAnC,IAAI,QAAA0B,MAAA,CAAUO,OAAO,CAACjC,IAAI,CAACoC,GAAG,OAAAV,MAAA,CAAKO,OAAO,CAACjC,IAAI,CAACqC,GAAG,OAAAX,MAAA,CAAKO,OAAO,CAACjC,IAAI,CAACsC,GAAG,CAAE,CAEhF,mBACE1E,KAAA,YAAAyD,QAAA,eACEzD,KAAA,QAAc0D,SAAS,CAAEtE,KAAK,CAACuF,IAAK,CAAAlB,QAAA,eAClCzD,KAAA,MAAAyD,QAAA,eACE3D,IAAA,SAAA2D,QAAA,CAAM,OAAK,CAAM,CAAC,cAClB3D,IAAA,OAAA2D,QAAA,CAAK1C,IAAI,CAAK,CAAC,EACd,CAAC,cACJf,KAAA,MAAG0D,SAAS,CAAEtE,KAAK,CAAC6E,IAAK,CAAAR,QAAA,eACvB3D,IAAA,SAAA2D,QAAA,CAAM,OAAK,CAAM,CAAC,cAClBzD,KAAA,OAAAyD,QAAA,eAEI3D,IAAA,MACE8E,IAAI,CAAEX,IAAK,CACXY,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,8BAA8B,CAAArB,QAAA,CAEjCQ,IAAI,CAACc,OAAO,CAAC,cAAc,CAAE,GAAG,CAAC,CACjC,CAAC,cAEN/E,KAAA,WACE0D,SAAS,CAAEtE,KAAK,CAAC4F,OAAQ,CACzBC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA3D,UAAU,CAAC2C,IAAI,CAAC,EAAC,CAAAR,QAAA,eAEhC3D,IAAA,MAAG4D,SAAS,CAAEtE,KAAK,CAACuB,IAAK,CAAA8C,QAAA,CAAE9C,IAAI,CAAI,CAAC,cACpCb,IAAA,CAACR,gBAAgB,GAAE,CAAC,EACd,CAAC,EACP,CAAC,EACJ,CAAC,cACJU,KAAA,MAAAyD,QAAA,eACE3D,IAAA,SAAA2D,QAAA,CAAM,aAAW,CAAM,CAAC,cACxB3D,IAAA,OAAA2D,QAAA,CAAKS,UAAU,CAAK,CAAC,EACpB,CAAC,cACJlE,KAAA,MAAAyD,QAAA,eACE3D,IAAA,SAAA2D,QAAA,CAAM,QAAM,CAAM,CAAC,cACnB3D,IAAA,OAAA2D,QAAA,CAAKU,KAAK,CAAK,CAAC,EACf,CAAC,cACJnE,KAAA,MAAAyD,QAAA,eACE3D,IAAA,SAAA2D,QAAA,CAAM,QAAM,CAAM,CAAC,cACnB3D,IAAA,OAAA2D,QAAA,CAAKW,KAAK,CAAK,CAAC,EACf,CAAC,cAEJpE,KAAA,MAAAyD,QAAA,eACE3D,IAAA,SAAA2D,QAAA,CAAM,UAAQ,CAAM,CAAC,cAErBzD,KAAA,OAAAyD,QAAA,EAAI,KAEF,cAAAzD,KAAA,SAAM0D,SAAS,CAAEtE,KAAK,CAAC8F,QAAS,CAAAzB,QAAA,EAAC,GAAC,CAACc,MAAM,EAAO,CAAC,CAChDnC,IAAI,cACLpC,KAAA,SAAM0D,SAAS,CAAEtE,KAAK,CAAC+F,KAAM,CAAA1B,QAAA,EAAC,GAC3B,CAACrD,QAAQ,CAAGiE,OAAO,CAACjC,IAAI,CAACsC,GAAG,CAAC,QAChC,EAAM,CAAC,EACL,CAAC,EACJ,CAAC,GAlDI5D,EAmDL,CAAC,cACNhB,IAAA,YAAS4D,SAAS,CAAEtE,KAAK,CAACkF,MAAO,CAAAb,QAAA,cAC/BzD,KAAA,WAAAyD,QAAA,eACE3D,IAAA,QAAKsF,GAAG,CAAEd,MAAO,CAACe,GAAG,CAAEf,MAAO,CAAE,CAAC,cACjCxE,IAAA,eAAA2D,QAAA,CAAa1C,IAAI,CAAa,CAAC,EACzB,CAAC,CACF,CAAC,GA1DED,EA2DL,CAAC,CAEd,CACA,MAAO,KAAI,CACb,CACF,CAAC,GAhF8BA,EAiF9B,CAAC,EAlFQA,EAmFL,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAb,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}