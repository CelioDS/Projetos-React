{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/celio/GitHub/Projetos-React/business/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/celio/GitHub/Projetos-React/business/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/celio/GitHub/Projetos-React/business/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from\"react-router-dom\";import style from\"./Visualizar.module.css\";import{BsLink,BsClipboardCheck}from\"react-icons/bs\";import{useEffect,useState,useCallback}from\"react\";import Loading from\"../layout/Loading\";import CheckMobile from\"../Funcoes/CheckMobile\";import databaseLocal from\"../bd/db.json\";import Container from\"../layout/Container\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Visualizar(){var checkMobile=useCallback(CheckMobile,[]);var isMobile=checkMobile();var _useState=useState(\"Copiar\"),_useState2=_slicedToArray(_useState,2),copy=_useState2[0],setCopy=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),database=_useState4[0],setDatabase=_useState4[1];// Estado para armazenar os dados\nvar fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;url=process.env.REACT_APP_API_URL||\"http://localhost:5000/empresas\";_context.next=4;return fetch(url,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;setDatabase(data);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);//console.log(\"Erro ao obter os dados\", error);\nsetDatabase(databaseLocal.empresas);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);var handleCopy=function handleCopy(text){navigator.clipboard.writeText(text);setCopy(\"Copiando...\");setTimeout(function(){setCopy(\"Copiar\");},500);};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:style.father,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.texto,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Empresas cadastradas.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Acesse o link abaixo para ter informa\\xE7\\xF5es completas.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Aqui est\\xE3o as empresas cadastradas\"})]}),database?/*#__PURE__*/ // Se os dados foram obtidos com sucesso\n_jsxs(\"div\",{className:style.tablediv,children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nomes\"}),!isMobile&&/*#__PURE__*/_jsx(\"th\",{children:\"Localidade\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Setor\"}),/*#__PURE__*/_jsx(\"th\",{children:\"site\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:database.map(function(_ref2){var id=_ref2.id,nome=_ref2.nome,localidade=_ref2.localidade,site=_ref2.site,setor=_ref2.setor;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:id}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/visualizar/\".concat(id,\"/\").concat(nome),title:\"Acesse aqui\",children:[/*#__PURE__*/_jsx(BsLink,{className:style.icon,title:\"Acesse aqui\"}),nome]},id)}),!isMobile&&/*#__PURE__*/_jsx(\"td\",{children:localidade}),/*#__PURE__*/_jsx(\"td\",{children:setor}),/*#__PURE__*/_jsxs(\"td\",{className:style.site,children:[/*#__PURE__*/_jsx(\"a\",{href:site,target:\"_blank\",rel:\"noopener nofollow noreferrer\",children:site.replace(\"https://www.\",\" \")}),/*#__PURE__*/_jsxs(\"button\",{className:style.btn,onClick:function onClick(){return handleCopy(site);},children:[/*#__PURE__*/_jsx(\"p\",{className:style.copy,children:copy}),/*#__PURE__*/_jsx(BsClipboardCheck,{})]})]})]},id);})})]}),database.length===0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sem cadastros...\"}),\" \",/*#__PURE__*/_jsx(Loading,{})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Carregando dados...\"}),/*#__PURE__*/_jsx(Loading,{})]})]})});}","map":{"version":3,"names":["Link","style","BsLink","BsClipboardCheck","useEffect","useState","useCallback","Loading","CheckMobile","databaseLocal","Container","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Visualizar","checkMobile","isMobile","_useState","_useState2","_slicedToArray","copy","setCopy","_useState3","_useState4","database","setDatabase","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","data","wrap","_callee$","_context","prev","next","process","env","REACT_APP_API_URL","fetch","method","headers","sent","json","t0","empresas","stop","apply","arguments","handleCopy","text","navigator","clipboard","writeText","setTimeout","children","className","father","texto","tablediv","map","_ref2","id","nome","localidade","site","setor","to","concat","title","icon","href","target","rel","replace","btn","onClick","length"],"sources":["C:/Users/celio/GitHub/Projetos-React/business/src/componentes/routes/Visualizar.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport style from \"./Visualizar.module.css\";\r\nimport { BsLink, BsClipboardCheck } from \"react-icons/bs\";\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport Loading from \"../layout/Loading\";\r\nimport CheckMobile from \"../Funcoes/CheckMobile\";\r\nimport databaseLocal from \"../bd/db.json\";\r\n\r\nimport Container from \"../layout/Container\";\r\n\r\nexport default function Visualizar() {\r\n  const checkMobile = useCallback(CheckMobile, []);\r\n  const isMobile = checkMobile();\r\n  const [copy, setCopy] = useState(\"Copiar\");\r\n  const [database, setDatabase] = useState(null); // Estado para armazenar os dados\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const url =\r\n        process.env.REACT_APP_API_URL || \"http://localhost:5000/empresas\";\r\n\r\n      const response = await fetch(url, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      const data = await response.json();\r\n      setDatabase(data);\r\n    } catch (error) {\r\n      //console.log(\"Erro ao obter os dados\", error);\r\n      setDatabase(databaseLocal.empresas);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleCopy = (text) => {\r\n    navigator.clipboard.writeText(text);\r\n    setCopy(\"Copiando...\");\r\n    setTimeout(() => {\r\n      setCopy(\"Copiar\");\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div className={style.father}>\r\n        <div className={style.texto}>\r\n          <h1>Empresas cadastradas.</h1>\r\n          <p>Acesse o link abaixo para ter informações completas.</p>\r\n          <p>Aqui estão as empresas cadastradas</p>\r\n        </div>\r\n\r\n        {database ? ( // Se os dados foram obtidos com sucesso\r\n          <div className={style.tablediv}>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Id</th>\r\n                  <th>Nomes</th>\r\n                  {!isMobile && <th>Localidade</th>}\r\n                  <th>Setor</th>\r\n                  <th>site</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {database.map(({ id, nome, localidade, site, setor }) => (\r\n                  <tr key={id}>\r\n                    <td>{id}</td>\r\n                    <td>\r\n                      <Link\r\n                        to={`/visualizar/${id}/${nome}`}\r\n                        key={id}\r\n                        title=\"Acesse aqui\"\r\n                      >\r\n                        <BsLink className={style.icon} title=\"Acesse aqui\" />\r\n                        {nome}\r\n                      </Link>\r\n                    </td>\r\n                    {!isMobile && <td>{localidade}</td>}\r\n\r\n                    <td>{setor}</td>\r\n                    <td className={style.site}>\r\n                      {\r\n                        <a\r\n                          href={site}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener nofollow noreferrer\"\r\n                        >\r\n                          {site.replace(\"https://www.\", \" \")}\r\n                        </a>\r\n                      }\r\n                      <button\r\n                        className={style.btn}\r\n                        onClick={() => handleCopy(site)}\r\n                      >\r\n                        <p className={style.copy}>{copy}</p>\r\n                        <BsClipboardCheck />\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n            {database.length === 0 && (\r\n              <>\r\n                <p>Sem cadastros...</p> <Loading />\r\n              </>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <p>Carregando dados...</p>\r\n            <Loading />\r\n          </>\r\n        )}\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}